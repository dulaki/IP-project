<section class="filter-bar">
  <div class="input-group">
    <label>Search</label>
    <input
      type="text"
      placeholder="Search title, artist, album..."
      [(ngModel)]="filters.search"
      (ngModelChange)="handleChange({ search: $event })"
    />
  </div>

  <div class="input-group">
    <label>Genre</label>
    <select [(ngModel)]="filters.genre" (ngModelChange)="handleChange({ genre: $event })">
      <option value="">All</option>
      @for (genre of genres; track genre) {
        <option [value]="genre">{{ genre | titlecase }}</option>
      }
    </select>
  </div>

  <div class="input-group">
    <label>Artist Type</label>
    <select [(ngModel)]="filters.type" (ngModelChange)="handleChange({ type: $event })">
      <option value="all">All</option>
      <option value="band">Bands</option>
      <option value="solo">Solo</option>
      <option value="collabduo">Duo/Collab</option>
    </select>
  </div>

  <div class="input-group">
    <label>Sort</label>
    <div class="sort-row">
      <select [(ngModel)]="filters.sort" (ngModelChange)="handleChange({ sort: $event })">
        <option value="rank">Rank</option>
        <option value="title">Title</option>
        <option value="artist">Artist</option>
      </select>
      <button class="icon-btn" (click)="handleChange({ order: filters.order === 'desc' ? 'asc' : 'desc' })">
        <span *ngIf="filters.order === 'desc'">↓</span>
        <span *ngIf="filters.order !== 'desc'">↑</span>
      </button>
    </div>
  </div>

  <button class="ghost" (click)="clearFilters()">Clear</button>
</section>
